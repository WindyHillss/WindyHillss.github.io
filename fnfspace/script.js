const _0x55bd3e=_0x4b90;(function(_0x5d4b3a,_0x48ef36){const _0x2ea731=_0x4b90,_0x361982=_0x5d4b3a();while(!![]){try{const _0x232a00=parseInt(_0x2ea731(0x226))/0x1*(parseInt(_0x2ea731(0x1f8))/0x2)+-parseInt(_0x2ea731(0x21b))/0x3+parseInt(_0x2ea731(0x228))/0x4+parseInt(_0x2ea731(0x23e))/0x5+parseInt(_0x2ea731(0x22b))/0x6*(-parseInt(_0x2ea731(0x1f9))/0x7)+-parseInt(_0x2ea731(0x248))/0x8*(parseInt(_0x2ea731(0x24a))/0x9)+parseInt(_0x2ea731(0x23f))/0xa;if(_0x232a00===_0x48ef36)break;else _0x361982['push'](_0x361982['shift']());}catch(_0xf85ea1){_0x361982['push'](_0x361982['shift']());}}}(_0x3b1e,0x54285));import{beatMap}from'./beatMap.js';const arrowZone=document[_0x55bd3e(0x20c)](_0x55bd3e(0x22d)),targetEls=document[_0x55bd3e(0x217)]('.target'),scoreEl=document['getElementById'](_0x55bd3e(0x238));let score=0x0,miss=0x0;const music=new Audio(_0x55bd3e(0x234));document[_0x55bd3e(0x20c)](_0x55bd3e(0x24d))[_0x55bd3e(0x1fa)]('click',()=>{const _0xf6a493=_0x55bd3e;music['play']()[_0xf6a493(0x206)](()=>{const _0xdf39e1=_0xf6a493;document[_0xdf39e1(0x20c)]('start-btn')[_0xdf39e1(0x1e7)](),update(),continuousZoom();})[_0xf6a493(0x210)](_0x1b5646=>{const _0x378163=_0xf6a493;console[_0x378163(0x235)]('Music\x20error:',_0x1b5646);});});let beatIndex=0x0;const NOTE_TRAVEL_TIME=0x1;function update(){const _0x122f75=_0x55bd3e,_0x370838=music[_0x122f75(0x1fc)];while(beatIndex<beatMap[_0x122f75(0x22f)]&&beatMap[beatIndex]['time']-NOTE_TRAVEL_TIME<=_0x370838){const _0xdfab24=beatMap[beatIndex];spawnNote(_0xdfab24[_0x122f75(0x1ff)],_0xdfab24[_0x122f75(0x20d)]||![]),beatIndex++;}requestAnimationFrame(update);}function getTargetPositions(){const _0x5c4386=_0x55bd3e;return Array[_0x5c4386(0x231)](targetEls)[_0x5c4386(0x1ef)](_0x1cf74a=>_0x1cf74a[_0x5c4386(0x1fe)]);}function _0x3b1e(){const _0x54ec81=['div.target.left','map','rotate(0deg)','arrayBuffer','translate(','height','duration','darkness','px)','transform\x20','10706RlySBK','7juczvu','addEventListener','backgroundImage','currentTime','abs','offsetLeft','lane','min','SHAKE','contains','zoomMin','add','opacity','then','url(\x27images/character/idle.gif\x27)','left','translate(0,\x200)','Score:\x20','classList','getElementById','zoom','src','px,\x20','catch','none','scale(1)','zoomMax','.note','AudioContext','top','querySelectorAll','key','createElement','afterend','651429llkxOS','fpsCounter','div','right','\x20Miss:\x20','particle','sin','opacity\x200.5s\x20ease-out,\x20transform\x200.5s\x20ease-out','now','body','delete','1XKnZeB','transform','281748XMRMvW','up.gif','url(\x27images/character/','2969766IrIOdO','img','arrow-zone','images/miss.png','length','dataset','from','style','connect','music.mp3','error','ontimeupdate','toFixed','score','decodeAudioData','getBoundingClientRect','down.gif','camera','FPS:\x20','2172675mrkwXM','12116830weFwuh','animate','transition','destination','buffer','left.gif','keyup','insertAdjacentElement','log','8biJLMl','random','5986755KJfnPT','keydown','appendChild','start-btn','note','remove','textContent','playbackRate','ms\x20ease','right.gif','rotate(5deg)\x20scale(1.2)','width'];_0x3b1e=function(){return _0x54ec81;};return _0x3b1e();}const lastNoteTimes={},MIN_SPAWN_INTERVAL=0.01;function spawnNote(_0x2b7cfd,_0xa8f5b8=![]){const _0x39dbf9=_0x55bd3e,_0xcbd49c=music[_0x39dbf9(0x1fc)],_0x2f22cf=lastNoteTimes[_0x2b7cfd];if(_0x2f22cf!==undefined&&_0xcbd49c-_0x2f22cf<MIN_SPAWN_INTERVAL)return;const _0x4f782a=document['createElement'](_0x39dbf9(0x21d));_0x4f782a[_0x39dbf9(0x20b)]['add'](_0x39dbf9(0x1e6),[_0x39dbf9(0x21e),'up','down','left'][_0x2b7cfd]),_0x4f782a['style'][_0x39dbf9(0x208)]=getTargetPositions()[_0x2b7cfd]+'px';_0x2f22cf!==undefined&&_0xcbd49c-_0x2f22cf<=0.1&&_0x4f782a[_0x39dbf9(0x20b)][_0x39dbf9(0x204)]('long');lastNoteTimes[_0x2b7cfd]=_0xcbd49c;if(_0xa8f5b8)_0x4f782a['dataset'][_0x39dbf9(0x20d)]='true';arrowZone['appendChild'](_0x4f782a),setTimeout(()=>{const _0xb218d7=_0x39dbf9;arrowZone[_0xb218d7(0x202)](_0x4f782a)&&(_0x4f782a['remove'](),miss+=0x1,scoreEl[_0xb218d7(0x1e8)]=_0xb218d7(0x20a)+score+'\x20Miss:\x20'+miss,showMissEffect(_0x2b7cfd));},NOTE_TRAVEL_TIME*0x3e8);}function showMissEffect(_0xde6008){const _0x29a602=_0x55bd3e,_0xc09da7=document[_0x29a602(0x219)](_0x29a602(0x22c));_0xc09da7[_0x29a602(0x20e)]=_0x29a602(0x22e),_0xc09da7['style'][_0x29a602(0x1ed)]='100px',_0xc09da7[_0x29a602(0x232)][_0x29a602(0x1f3)]='auto',_0xc09da7[_0x29a602(0x232)]['pointerEvents']=_0x29a602(0x211),_0xc09da7[_0x29a602(0x232)][_0x29a602(0x227)]=_0x29a602(0x1f0),_0xc09da7[_0x29a602(0x232)]['opacity']='1',_0xc09da7[_0x29a602(0x232)][_0x29a602(0x241)]=_0x29a602(0x222);const _0x4d60f2=document['querySelector'](_0x29a602(0x1ee));if(!_0x4d60f2)return;_0x4d60f2[_0x29a602(0x246)](_0x29a602(0x21a),_0xc09da7),requestAnimationFrame(()=>{const _0x3f0673=_0x29a602;_0xc09da7[_0x3f0673(0x232)][_0x3f0673(0x205)]='0',_0xc09da7['style']['transform']=_0x3f0673(0x1ec);}),setTimeout(()=>_0xc09da7[_0x29a602(0x1e7)](),0x1f4);}const pressedKeys=new Set();window['addEventListener'](_0x55bd3e(0x24b),_0x5582bd=>{const _0x5d7ef7=_0x55bd3e;pressedKeys[_0x5d7ef7(0x204)](_0x5582bd['key']);}),window['addEventListener'](_0x55bd3e(0x245),_0x294250=>{const _0x154791=_0x55bd3e;pressedKeys[_0x154791(0x225)](_0x294250[_0x154791(0x218)]);});function checkHits(){const _0x3ec6e0=_0x55bd3e,_0x42f428={'ArrowLeft':0x0,'a':0x0,'ArrowDown':0x1,'s':0x1,'ArrowUp':0x2,'w':0x2,'ArrowRight':0x3,'d':0x3},_0x3b45bd=[...pressedKeys]['filter'](_0x481064=>_0x481064 in _0x42f428)[_0x3ec6e0(0x1ef)](_0x395ee5=>_0x42f428[_0x395ee5]);if(_0x3b45bd[_0x3ec6e0(0x22f)]>0x0){const _0xfac330=document[_0x3ec6e0(0x217)](_0x3ec6e0(0x214));_0x3b45bd['forEach'](_0x5e9858=>{const _0x1a8425=_0x3ec6e0;let _0x5b21ac=null;_0xfac330['forEach'](_0x1bcbaa=>{const _0x40b3e6=_0x4b90,_0x285edd=parseInt(_0x1bcbaa[_0x40b3e6(0x232)][_0x40b3e6(0x208)]),_0x54d60e=getTargetPositions()[_0x5e9858],_0x3b5ab1=Math[_0x40b3e6(0x1fd)](_0x285edd-_0x54d60e)<=0xa;if(_0x3b5ab1){const _0x318cba=_0x1bcbaa[_0x40b3e6(0x23a)]()[_0x40b3e6(0x216)],_0x36be04=arrowZone[_0x40b3e6(0x23a)]()[_0x40b3e6(0x216)]+0x28,_0x18f4d2=Math[_0x40b3e6(0x1fd)](_0x318cba-_0x36be04);if(_0x18f4d2<=0x1e)_0x5b21ac=_0x1bcbaa;}});if(_0x5b21ac){const _0x116fb9=_0x5b21ac[_0x1a8425(0x23a)]();createParticles(_0x116fb9['left']+0x19,_0x116fb9[_0x1a8425(0x216)]+0x19),_0x5b21ac[_0x1a8425(0x230)][_0x1a8425(0x20d)]==='true'&&(bomZoom(),bomDarkness()),_0x5b21ac[_0x1a8425(0x1e7)](),score+=0xa,scoreEl['textContent']=_0x1a8425(0x20a)+score+_0x1a8425(0x21f)+miss;}});}requestAnimationFrame(checkHits);}checkHits();let activeParticles=0x0;const MAX_PARTICLES=0x1e;function createParticles(_0x137b45,_0x5df74a){const _0x1c40ac=_0x55bd3e;if(activeParticles>=MAX_PARTICLES)return;const _0xa8194e=Math[_0x1c40ac(0x200)](0xa,MAX_PARTICLES-activeParticles);for(let _0x4f7d03=0x0;_0x4f7d03<_0xa8194e;_0x4f7d03++){const _0x407683=document[_0x1c40ac(0x219)](_0x1c40ac(0x21d));_0x407683['className']=_0x1c40ac(0x220),_0x407683[_0x1c40ac(0x232)]['left']=_0x137b45+'px',_0x407683[_0x1c40ac(0x232)]['top']=_0x5df74a+'px',document[_0x1c40ac(0x224)][_0x1c40ac(0x24c)](_0x407683),activeParticles++;const _0x3a587b=(Math[_0x1c40ac(0x249)]()-0.5)*0x4,_0x46f7f4=(Math[_0x1c40ac(0x249)]()-0.5)*0x4;_0x407683[_0x1c40ac(0x240)]([{'transform':_0x1c40ac(0x209),'opacity':0x1},{'transform':_0x1c40ac(0x1f2)+_0x3a587b*0x14+'px,\x20'+_0x46f7f4*0x14+_0x1c40ac(0x1f6),'opacity':0x0}],{'duration':0x1f4,'easing':'ease-out'}),setTimeout(()=>{const _0x15e6ae=_0x1c40ac;_0x407683[_0x15e6ae(0x1e7)](),activeParticles--;},0x1f4);}}const character=document[_0x55bd3e(0x20c)]('character'),keyToGif={'ArrowLeft':'left.gif','a':_0x55bd3e(0x244),'ArrowDown':_0x55bd3e(0x23b),'s':_0x55bd3e(0x23b),'ArrowUp':_0x55bd3e(0x229),'w':'up.gif','ArrowRight':_0x55bd3e(0x1eb),'d':_0x55bd3e(0x1eb)};let idleTimeout;window[_0x55bd3e(0x1fa)]('keydown',_0x51a585=>{const _0x3a96b2=_0x55bd3e;_0x51a585[_0x3a96b2(0x218)]in keyToGif&&(character[_0x3a96b2(0x232)]['backgroundImage']=_0x3a96b2(0x22a)+keyToGif[_0x51a585['key']]+'\x27)',clearTimeout(idleTimeout),idleTimeout=setTimeout(()=>{const _0x1839cf=_0x3a96b2;character['style'][_0x1839cf(0x1fb)]=_0x1839cf(0x207);},0x3e8));});const camera=document[_0x55bd3e(0x20c)](_0x55bd3e(0x23c)),cont={'zoomMin':1.01,'zoomMax':1.04,'duration':0x2bc};function continuousZoom(){const _0x17c3c0=_0x55bd3e,_0x5abfc8=cont['zoomMin']+Math['random']()*(cont[_0x17c3c0(0x213)]-cont[_0x17c3c0(0x203)]);camera['style'][_0x17c3c0(0x241)]=_0x17c3c0(0x1f7)+cont['duration']+_0x17c3c0(0x1ea),camera[_0x17c3c0(0x232)][_0x17c3c0(0x227)]='scale('+_0x5abfc8+')',setTimeout(continuousZoom,cont[_0x17c3c0(0x1f4)]);}function bomZoom(){const _0x5eaf87=_0x55bd3e;camera[_0x5eaf87(0x232)]['transform']='scale(1.5)',setTimeout(()=>{const _0x3f8685=_0x5eaf87;camera[_0x3f8685(0x232)]['transform']=_0x3f8685(0x212);},0x64);}function boostDarkness(_0x51ba9c=0x1){const _0x38a9e1=_0x55bd3e,_0x15287e=document[_0x38a9e1(0x20c)](_0x38a9e1(0x1f5)),_0x4befc4=0.3,_0xcba660=0.9,_0x302b8c=Math[_0x38a9e1(0x200)](_0x4befc4+0.1*_0x51ba9c,_0xcba660);_0x15287e[_0x38a9e1(0x232)][_0x38a9e1(0x205)]=_0x302b8c;}function bomDarkness(){boostDarkness(0x3c),setTimeout(()=>{boostDarkness(0x1);},0xc8);}const musicBar=document[_0x55bd3e(0x20c)]('music-bar');let shakeTriggered=![],voidWormShown=![],monsterSoundPlayed=![];const audioCtx=new(window[(_0x55bd3e(0x215))]||window['webkitAudioContext'])();let monsterSource=null;function playMonsterSound(_0x365074){const _0x1a2c4e=_0x55bd3e;fetch('sounds/void_worm_idle_0.ogg')['then'](_0x24946f=>_0x24946f[_0x1a2c4e(0x1f1)]())[_0x1a2c4e(0x206)](_0x4c73db=>audioCtx[_0x1a2c4e(0x239)](_0x4c73db))[_0x1a2c4e(0x206)](_0x54ddc1=>{const _0x34918b=_0x1a2c4e;monsterSource=audioCtx['createBufferSource'](),monsterSource[_0x34918b(0x243)]=_0x54ddc1,monsterSource[_0x34918b(0x1e9)]['value']=_0x365074,monsterSource[_0x34918b(0x233)](audioCtx[_0x34918b(0x242)]),monsterSource['start'](0x0);});}music[_0x55bd3e(0x236)]=()=>{const _0x2e2334=_0x55bd3e,_0x17713d=music[_0x2e2334(0x1fc)];if(music['duration']>0x0){const _0x367a93=music[_0x2e2334(0x1fc)]/music[_0x2e2334(0x1f4)]*0x64;musicBar[_0x2e2334(0x232)]['width']=_0x367a93+'%';}!shakeTriggered&&_0x17713d>=73.5&&(shakeTriggered=!![],smoothShake(0x1f40,0x96),console[_0x2e2334(0x247)](_0x2e2334(0x201)));if(!voidWormShown&&_0x17713d>=0x4c){voidWormShown=!![];const _0x31e82f=document[_0x2e2334(0x20c)]('void-worm');_0x31e82f[_0x2e2334(0x232)][_0x2e2334(0x205)]='1',console['log']('Void\x20Worm\x20appeared!');}!monsterSoundPlayed&&_0x17713d>=76.2&&(monsterSoundPlayed=!![],playMonsterSound(0.6));};function smoothShake(_0x3bde2f,_0x2fbe4a){const _0x5e860c=_0x55bd3e,_0x519145=performance[_0x5e860c(0x223)](),_0x4ffd64=document['getElementById']('camera');function _0x3dad48(_0x4d91c1){const _0x525697=_0x5e860c,_0x288a96=_0x4d91c1-_0x519145;if(_0x288a96>_0x3bde2f){_0x4ffd64['style']['transform']='';return;}const _0x5f3f70=_0x288a96/_0x3bde2f,_0xb834fa=Math[_0x525697(0x221)](_0x5f3f70*Math['PI'])*_0x2fbe4a,_0x9c0123=(Math[_0x525697(0x249)]()*0x2-0x1)*_0xb834fa,_0x94de98=(Math[_0x525697(0x249)]()*0x2-0x1)*_0xb834fa;_0x4ffd64[_0x525697(0x232)][_0x525697(0x227)]='translate('+_0x9c0123['toFixed'](0x2)+_0x525697(0x20f)+_0x94de98[_0x525697(0x237)](0x2)+'px)',requestAnimationFrame(_0x3dad48);}requestAnimationFrame(_0x3dad48);}let fpsCounter=document[_0x55bd3e(0x20c)](_0x55bd3e(0x21c)),lastFrameTime=performance[_0x55bd3e(0x223)](),frameCount=0x0,fps=0x0;function updateFPS(){const _0x3babec=_0x55bd3e,_0x5e0ced=performance[_0x3babec(0x223)]();frameCount++,_0x5e0ced-lastFrameTime>=0x3e8&&(fps=frameCount,frameCount=0x0,lastFrameTime=_0x5e0ced,fpsCounter[_0x3babec(0x1e8)]=_0x3babec(0x23d)+fps),requestAnimationFrame(updateFPS);}function _0x4b90(_0x4d9416,_0x1ca8de){const _0x3b1ecc=_0x3b1e();return _0x4b90=function(_0x4b9026,_0x3b6805){_0x4b9026=_0x4b9026-0x1e6;let _0x4004bd=_0x3b1ecc[_0x4b9026];return _0x4004bd;},_0x4b90(_0x4d9416,_0x1ca8de);}requestAnimationFrame(updateFPS);
